(this["webpackJsonphooks-todos"]=this["webpackJsonphooks-todos"]||[]).push([[0],{18:function(e,t,a){e.exports=a(43)},43:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),c=a(5),r=a(0),s=a.n(r),d=a(17),u=a.n(d),i=a(3),l=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=s.a.createContext({todos:[],currentTodo:{}}),O=a(6),m=a(4),h=a(7),f=a.n(h);function b(e,t){switch(t.type){case"GET_TODOS":return Object(m.a)({},e,{todos:t.payload});case"ADD_TODO":var a=[].concat(Object(O.a)(e.todos),[t.payload]);return Object(m.a)({},e,{todos:a});case"SET_CURRENT_TODO":return Object(m.a)({},e,{currentTodo:t.payload});case"TOGGLE_TODO":var n=e.todos.map((function(e){return e.id===t.payload.id?t.payload:e}));return Object(m.a)({},e,{todos:n});case"UPDATE_TODO":var o=Object(m.a)({},t.payload),c=e.todos.findIndex((function(t){return t.id===e.currentTodo.id})),r=[].concat(Object(O.a)(e.todos.slice(0,c)),[o],Object(O.a)(e.todos.slice(c+1)));return Object(m.a)({},e,{currentTodo:{},todos:r});case"REMOVE_TODO":var s=e.todos.filter((function(e){return e.id!==t.payload.id})),d=e.currentTodo.id===t.payload.id?{}:e.currentTodo;return Object(m.a)({},e,{currentTodo:d,todos:s});default:return e}}function x(){var e=Object(r.useContext)(p),t=e.state,a=e.dispatch,n=t.todos.length>0?"".concat(t.todos.length," Todos"):"Nothing To Do!";return s.a.createElement("div",{className:"container mx-auto max-w-md text-center font-mono"},s.a.createElement("h1",{className:"text-bold"},n),s.a.createElement("ul",{className:"list-reset text-white p-0"},t.todos.map((function(e){return s.a.createElement("li",{key:e.id,className:"lex items-center  border-black border-dashed border-2 my-2 py-4 ".concat(e.complete?"bg-green-light":"bg-red-dark")},s.a.createElement("span",{onDoubleClick:function(){var t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(l.a.patch("https://todos-api-nuquyjkqpx.now.sh/todos/".concat(e.id),{complete:!e.complete}));case 2:t=n.sent,a({type:"TOGGLE_TODO",payload:t.data});case 4:case"end":return n.stop()}}))},className:"flex-1 ml-12 cursor-pointer ".concat(e.complete&&"line-through text-grey-darkest")},e.text),s.a.createElement("button",{onClick:function(){return a({type:"SET_CURRENT_TODO",payload:e})}},s.a.createElement("img",{src:"https://icon.now.sh/edit/0050c5",alt:"Edit Icon",className:"h-6"})),s.a.createElement("button",{onClick:function(){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(l.a.delete("https://todos-api-nuquyjkqpx.now.sh/todos/".concat(e.id)));case 2:a({type:"REMOVE_TODO",payload:e});case 3:case"end":return t.stop()}}))}},s.a.createElement("img",{src:"https://icon.now.sh/delete/8b0000",alt:"Delete Icon",className:"h-6"})))}))))}function y(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),a=t[0],n=t[1],d=Object(r.useContext)(p),u=d.state.currentTodo,i=void 0===u?{}:u,O=d.dispatch;Object(r.useEffect)((function(){i.text?n(i.text):n("")}),[i.id]);return s.a.createElement("form",{onSubmit:function(e){var t,c;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),!i.text){r.next=8;break}return r.next=4,o.a.awrap(l.a.patch("https://todos-api-nuquyjkqpx.now.sh/todos/".concat(i.id),{text:a}));case 4:t=r.sent,O({type:"UPDATE_TODO",payload:t.data}),r.next=12;break;case 8:return r.next=10,o.a.awrap(l.a.post("https://todos-api-nuquyjkqpx.now.sh/todos",{id:f()(),text:a,complete:!1}));case 10:c=r.sent,O({type:"ADD_TODO",payload:c.data});case 12:n("");case 13:case"end":return r.stop()}}))},className:"flex justify-center p-5"},s.a.createElement("input",{type:"text",className:"border-black border-solid border-2",onChange:function(e){return n(e.target.value)},value:a}))}u.a.render(s.a.createElement((function(){var e=Object(r.useContext)(p),t=Object(r.useReducer)(b,e),a=Object(c.a)(t,2),n=a[0],d=a[1],u=function(e){var t=Object(r.useState)([]),a=Object(c.a)(t,2),n=a[0],s=a[1];Object(r.useEffect)((function(){d()}),[]);var d=function(){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(l.a.get(e));case 2:t=a.sent,s(t.data);case 4:case"end":return a.stop()}}))};return n}("https://todos-api-nuquyjkqpx.now.sh/todos");return Object(r.useEffect)((function(){d({type:"GET_TODOS",payload:u})}),[u]),s.a.createElement(p.Provider,{value:{state:n,dispatch:d}},s.a.createElement(y,null),s.a.createElement(x,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.c00783f6.chunk.js.map